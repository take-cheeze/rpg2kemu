CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

SET(TARGET "rpg2kemu")

# set "-Wall -Werror" at gcc and clang
IF((${CMAKE_CXX_COMPILER_ID} MATCHES "GNU") OR (${CMAKE_CXX_COMPILER_ID} MATCHES "Clang"))
	SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Werror")
ENDIF()

# rpg2kLib things
ADD_SUBDIRECTORY(${CMAKE_SOURCE_DIR}/rpg2kLib)
INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/rpg2kLib)
LINK_DIRECTORIES(${CMAKE_SOURCE_DIR}/rpg2kLib)

# Boost
FIND_PACKAGE(Boost REQUIRED)
INCLUDE_DIRECTORIES(${Boost_INCLUDE_DIRS})

# game code
AUX_SOURCE_DIRECTORY(${CMAKE_SOURCE_DIR}/game SRCS)
ADD_EXECUTABLE(${TARGET} ${SRCS})
TARGET_LINK_LIBRARIES(${TARGET}
	${Boost_LIBRARIES}
	rpg2kLib
)
